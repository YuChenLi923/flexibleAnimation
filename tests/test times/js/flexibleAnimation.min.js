(function(j){function h(r,q){var p;if(q==="transform"){p=/[-]{0,}[0-9]{1,}[\.]{0,}[0-9]{0,}([e-][0-9]{0,}){0,}/g}if(q==="color"||q==="backgroundColor"){p=/[0-9]{1,}/g}if(r){result=r.match(p)}return result}function b(x,p,v,q,r,u){var t=p.length,w=[];for(var s=0;s<t;s++){if(!u){w[s]=x.easing(q,Number(p[s]),Number(v[s]),r)}else{w[s]=Math.floor(x.easing(q,Number(p[s]),Number(v[s]),r))}}return w.join()}function k(r,q,u){var t=document;if(!u){var p=t.createElement("div");p.style.cssText="height:0px;width:0px;opacity:0;position:absolute;";t.body.appendChild(p);try{p.style[q]=r}catch(s){}r=n(p)[q];t.body.removeChild(p)}else{r=n(u)[q]}return h(r,q)}function f(s,r,u,t,q,p,v){if(s==="transform"){return b(r,q,p,t,v,false)}if(s==="background-color"){return b(r,q,p,t,v,true)}else{return r.easing(t,q,p,v)}}function n(p){if(j.getComputedStyle){return document.defaultView.getComputedStyle(p,null)}else{if(p.currentStyle){return p.currentStyle}}}function g(u,t){var q=new Object(),v=t.split(":"),s,r=0,w=n(u),p;if(v[0]=="transform"){q.prefix="matrix(";q.suffix=")";q.endValue=k(v[1],v[0],null);q.startValue=k("",v[0],u)}else{if(v[0]=="color"||v[0]=="backgroundColor"){q.prefix="rgb(";q.suffix=")";q.endValue=k(v[1],v[0],null);q.startValue=k("",v[0],u);if(v[0]==="backgroundColor"){v[0]="background-color"}}else{if(s=v[1].match(/[a-zA-Z%]{1,}/)){s=v[1].match(/[a-zA-Z%]{1,}/)[0]}else{s=""}v[1].replace(/^[\+\-]{1}/,function(x){if(x=="+"){r=1}else{if(x=="-"){r=-1}}return""});q.prefix="";q.startValue=parseInt(w[v[0]]);q.addValue=r*parseInt(v[1]);q.endValue=r==0?parseInt(v[1]):q.startValue+q.addValue;q.suffix=s}}q.name=v[0];if(q.startValue==null||q.endValue==null){q=null}return q}function i(r,p){var q;for(q=0;q<p;q++){if(r.addValue[q]){r.startValue[q]=r.endValue[q];r.endValue[q]=r.startValue[q]+r.addValue[q]}}}function m(q,p,s,r){this.cx=3*q;this.bx=3*(s-q)-this.cx;this.ax=1-this.cx-this.bx;this.cy=3*p;this.by=3*(r-p)-this.cy;this.ay=1-this.cy-this.by}m.prototype={constructor:m,epsilon:0.01,sampleCurveX:function(p){return((this.ax*p+this.bx)*p+this.cx)*p},sampleCurveY:function(p){return((this.ay*p+this.by)*p+this.cy)*p},sampleCurveDerivativeX:function(p){return(3*this.ax*p+2*this.bx)*p+this.cx},solveCurveX:function(p,w){var v,u,s,q,t,r;for(s=p,r=0;r<8;r++){q=this.sampleCurveX(s)-p;if(Math.abs(q)<w){return s}t=this.sampleCurveDerivativeX(s);if(Math.abs(t)<w){break}s=s-q/t}v=0;u=1;s=p;if(s<v){return v}if(s>u){return u}while(v<u){q=this.sampleCurveX(s);if(Math.abs(q-p)<w){return s}if(p>q){v=s}else{u=s}s=(u-v)*0.5+v}return s},solve:function(p,q){return this.sampleCurveY(this.solveCurveX(p,q))}};var o={ease:new m(0.25,0.1,0.25,1),linear:new m(0,0,1,1),easeIn:new m(0.42,0,1,1),easeOut:new m(0,0,0.58,1),easeInOut:new m(0.42,0,0.58,1)};var a=function(){if(arguments.length===1&&typeof(arguments[0])==="string"){var q=o[arguments[0]]}else{if(arguments[0].length===4){var q=new m(arguments[0][0],arguments[0][1],arguments[0][2],arguments[0][3]);for(var p=0;p<4;p++){if(typeof(arguments[0][p])!="number"||arguments[0][p]<0||arguments[0][p]>1){var q=o["linear"]}}}}return function(t,s,r,u){return q.solve(t/u,m.prototype.epsilon)*(r-s)+s}};function l(){this.dom=null;this.startValue=[];this.endValue=[];this.addValue=[];this.propertyName=[];this.suffix=[];this.easing=null;this.duration=null;this.func=null;this.args=null;this.times=1;this.starTime=null;this.prefix=[];this.realyRules=0;this.rules=[];this.forever=false}l.prototype={constructor:l,init:function(p){this.dom=p},handleCur:function(u,t){if(!this.startTime){this.startTime=t}var q="",t=this.startTime,r=t+this.duration+this.delay;if(u>=r){for(var s=0,p=this.realyRules;s<p;s++){q=this.propertyName[s]+":"+this.prefix[s]+this.endValue[s]+this.suffix[s]+";"+q}this.dom.style.cssText=q;this.startTime=0;if(this.times>0||this.forever){this.startTime=+new Date();i(this,this.realyRules);this.times=this.times-1;return true}else{if(this.callback){this.callback()}return false}}else{if(u-t>=this.delay){var v=[];for(var s=0;s<this.realyRules;s++){v=f(this.propertyName[s],this,this.prefix[s],u-t-this.delay,this.startValue[s],this.endValue[s],this.duration);q=this.propertyName[s]+":"+this.prefix[s]+v+this.suffix[s]+";"+q}this.dom.style.cssText=q}return true}},set:function(q){var z=q.rules,A=0,y=q.callback,x=q.forever||false,p=q.times,u=q.delay||0,r=q.duration||1000,w=q.easing||"ease";this.rules=q.rules;for(var s=0,v=z.length;s<v;s++){var B=g(this.dom,z[s]);if(B!=null){this.prefix.push(B.prefix);this.suffix.push(B.suffix);this.propertyName.push(B.name);this.endValue.push(B.endValue);this.startValue.push(B.startValue);this.addValue.push(B.addValue);++A}}delete this.rules;this.times=p-1;this.realyRules=A;this.delay=u;this.duration=r;this.forever=x;this.callback=y;this.easing=a(w)},start:function(){var p=this;this.startTime=+new Date;var q=function(){if(p.handleCur(+new Date())){requestAnimationFrame(function(){q()})}};q()}};function e(){this.length=0}e.prototype=new Array();e.prototype.start=function(){var r=+new Date,u=this,t,q,p;var s=function(){t=+new Date();for(q=0,p=u.length;q<p;q++){if(!u[q].handleCur(t,r)){u.splice(q,1);p=u.length}}if(p>0){requestAnimationFrame(function(){s()})}};s()};e.prototype.add=function(){var q,p;for(q=0,p=arguments.length;q<p;q++){if(arguments[q] instanceof l){this.push(arguments[q])}}return this};e.prototype.remove=function(p){this.splice(this.indexOf(p),1)};function d(r,p){var q=new l();if(r){q.init(r)}if(p){q.set(p)}return q}function c(){var r=new e(),q,p;for(q=0,p=arguments.length;q<p;q++){if(arguments[q] instanceof l){r.push(arguments[q])}}return r}j.flexibleAniamtion={createAnimation:d,createAnimationList:c}})(window);(function(){var b=0;var c=["webkit","moz"];for(var a=0;a<c.length&&!window.requestAnimationFrame;++a){window.requestAnimationFrame=window[c[a]+"RequestAnimationFrame"];window.cancelAnimationFrame=window[c[a]+"CancelAnimationFrame"]||window[c[a]+"CancelRequestAnimationFrame"]}if(!window.requestAnimationFrame){window.requestAnimationFrame=function(f){var d=new Date().getTime();var e=Math.max(0,16-(d-b));var g=window.setTimeout(function(){f()},e);b=d+e;return g}}if(!window.cancelAnimationFrame){window.cancelAnimationFrame=function(d){clearTimeout(d)}}}());